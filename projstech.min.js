(function(document,window){"use strict";var computeScale=window.computeScale=function(config){var wScale=window.innerWidth/config.width;var hScale=window.innerHeight/config.height;var scale=Math.min(wScale,hScale);if(config.maxScale&&scale>config.maxScale){scale=config.maxScale}if(config.minScale&&scale<config.minScale){scale=config.minScale}return scale};var pfx=(function(){var style=document.createElement("dummy").style;var prefixes="Webkit Moz O ms Khtml".split(' ');var memory={};return function(prop){if(typeof memory[prop]==="undefined"){var ucProp=prop.charAt(0).toUpperCase()+prop.substr(1);var properties=(prop+" "+prefixes.join(ucProp+" ")+ucProp).split(" ");memory[prop]=null;for(var i in properties){if(style[properties[i]]!==undefined){memory[prop]=properties[i];break}}}return memory[prop]}})();var css=window.css=function(el,props){var key,pkey;for(key in props){if(props.hasOwnProperty(key)){pkey=pfx(key);if(pkey!==null){el.style[pkey]=props[key]}}}return el};var domReady=window.domReady=function(f){if(domReady.done)return f();if(domReady.timer){domReady.ready.push(f)}else{addEvent(window,"load",isDOMReady);domReady.ready=[f];domReady.timer=setInterval(isDOMReady,13)}};function isDOMReady(){if(domReady.done)return false;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){clearInterval(domReady.timer);domReady.timer=null;for(var i=0;i<domReady.ready.length;i++){domReady.ready[i]()}domReady.ready=null;domReady.done=true}}var addEvent=window.addEvent=function(element,type,handler){if(element.addEventListener){var pfx=["webkit","moz","MS","o",""];for(var i=0;i<pfx.length;i++){if(!pfx[i])type=type.toLowerCase();element.addEventListener(pfx[i]+type,handler,false)}}else{if(!handler.$$guid)handler.$$guid=addEvent.guid++;if(!element.events)element.events={};var handlers=element.events[type];if(!handlers){handlers=element.events[type]={};if(element["on"+type]){handlers[0]=element["on"+type]}}handlers[handler.$$guid]=handler;element["on"+type]=handleEvent}};addEvent.guid=1;var removeEvent=window.removeEvent=function(element,type,handler){if(element.removeEventListener){element.removeEventListener(type,handler,false)}else{if(element.events&&element.events[type]){delete element.events[type][handler.$$guid]}}};function handleEvent(event){var returnValue=true;event=event||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var handlers=this.events[event.type];for(var i in handlers){this.$$handleEvent=handlers[i];if(this.$$handleEvent(event)===false){returnValue=false}}return returnValue};function fixEvent(event){event.preventDefault=fixEvent.preventDefault;event.stopPropagation=fixEvent.stopPropagation;return event};fixEvent.preventDefault=function(){this.returnValue=false};fixEvent.stopPropagation=function(){this.cancelBubble=true}})(document,window);